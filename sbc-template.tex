\documentclass[12pt]{article}

\input{pacotesbasicos}


\sloppy

\title{Instructions for Authors of SBC Conferences\\ Papers and Abstracts}

\author{Luciana P. Nedel\inst{1}, Rafael H. Bordini\inst{2}, Flávio Rech
  Wagner\inst{1}, Jomi F. Hübner\inst{3} }


\address{Instituto de Informática -- Universidade Federal do Rio Grande do Sul
  (UFRGS)\\
  Caixa Postal 15.064 -- 91.501-970 -- Porto Alegre -- RS -- Brazil
\nextinstitute
  Department of Computer Science -- University of Durham\\
  Durham, U.K.
\nextinstitute
  Departamento de Sistemas e Computação\\
  Universidade Regional de Blumenal (FURB) -- Blumenau, SC -- Brazil
  \email{\{nedel,flavio\}@inf.ufrgs.br, R.Bordini@durham.ac.uk,
  jomi@inf.furb.br}
}

\begin{document} 

\maketitle

\begin{abstract}
\end{abstract}
     
\begin{resumo} 
  Aqui vai o resumo
\end{resumo}

\section{Introdução}
Aqui vai a introdução.

\section{Simulação Computacional}

Segundo \cite{duran2018computer} a simulação computacional é uma técnica amplamente utilizada em diversas áreas, como por exemplo no estudo de sistemas complexos que por diversos fatores, não podem ser facilmente reproduzidos.

A simulação permite avaliar diversos cenários de uma pesquisa, apenas alterando suas variáveis de controle, reduzindo assim os custos e os riscos de um experimento físico. Conforme \cite{marschner2018}, essa técnica pode ser aplicada em diversas áreas como biologia, engenharia, física, química, entre outras.

Para construir uma simulação, é necessário uma representação matemática e/ou computacional do comportamento do sistema a ser simulado.

\subsection{Formas Geométricas e Movimento}
A técnica usada para representar uma forma geométrica computacionalmente dependerá do nível de detalhamento desejado \cite{pharr2016}. É possível fazer esta representação de diversas maneiras, por exemplo: forma vetorial, paramétrica ou de forma poligonal. Neste trabalho, adota-se a representação vetorial, com coordenadas cartesianas tridimensionais.

Para fins de simplificação, este trabalho limita-se a modelar objetos na forma de esferas e caixas. Esferas são modeladas com um ponto (centro da esfera) e um raio, enquanto caixas são modeladas ???? <ROGER: REVISAR ESTA SEÇÃO>  

As formas geométricas simuladas são estáticas, quando estão fixadas em alguma posição no ambiente, ou dinâmicas, quando estão sujeitas a movimentação provocada por alguma força externa. 'Normalmente, este movimento é represetnado pela alteração das coordenadas do objeto dinâmico.

\subsection{Colisão e Detecção de Colisão}

Uma colisão ocorre quando dois ou mais objetos entram em contato, compartilhando algum espaço do ambiente simulado~\cite{ericson2004real}. Segundo~\cite{bourg2013physics}, a colisão envolve cálculos para determinar as consequências/efeitos desse contato.

Segundo~\cite{bourg2013physics} a detecção de colisão é um problema de geometria computacional, que procura determinar \emph{se} e \emph{onde}, dois ou mais objetos colidiram. Pode ser detectada de diversas maneiras, dependendo da natureza dos objetos envolvidos~\cite{foley1996}, por exemplo: 1) se a distância entre os dois objetos está abaixo de uma determinada tolerância; 2) se os objetos estiverem sobrepondo-se em um ou mais pontos.

O processo para detecção de colisão é dividido em fase de previsão e de identificação. A previsão busca objetos que possivelmente estejam colidindo, enquanto a identificação localiza as colisões ocorridas. A separação em duas fases distintas garante um consumo racional do recurso computacional. 

Após detectar uma colisão entre dois objetos, torna-se necessário resolver o evento, atualizando a posição da simulação. Em simulações que não requerem realismo, apenas a correção das posições dos objetos é suficiente. Já em simulações mais avançadas, outros métodos podem ser necessários, como a resolução de colisão por impulso discutida em~\cite{bourg2013physics} e~\cite{baraff1992dynamic}, onde as características físicas dos objetos são considerados para que a reação seja adequada natural.

\section{Resultados Obtidos}
O principal resultado obtido é uma aplicação, nomeada de Proto3d, que executa simulações de movimento e colisão de corpos rígidos, em duas ou três dimensões dentro do ambiente configurado pelo usuário. A simulação do movimento é baseada na dinâmica newtoniana e a detecção de colisão é implementada em uma estrutura de dados octree, com algoritmos de previsão (Broad Phase) e identificação (Narrow Phase).

Além disso, o Proto3d foi implementado com o objetivo de ser uma ferramenta acessível às pessoas com deficiência visual. Desta forma, os resultados das simulações são apresentados em uma saída de texto, acessível aos leitores de tela disponíveis no mercado, o que permite ao usuário ler a simulação.

\subsection {Funcionamento do Proto3d}
O Proto3d tem como finalidade simular o movimento de um ou mais objetos em um ambiente controlado. Nesse ambiente, pode-se controlar os seguintes parâmetros: Gravidade; Limites físicos do ambiente; Passo de tempo.

O objetivo do simulador é representar de forma textual a execução da simulação, bem como permitir o congelamento da mesma, em algum ponto, para análise de algum aspecto que o usuário julgar relevante. Como o Proto3d não possui interface gráfica, foi implementado um pequeno teste, com grandezas conhecidas. O resultado da simulação é registrado em um arquivo de log para análise posterior.

No Proto3d, os objetos simulados são chamados de corpos rígidos, que poderão ser estáticos ou dinâmicos. Um corpo dinâmico é um objeto que possui massa, velocidade, orientação, coeficiente de restituição, forma, e outras propriedades que o pesquisador julgar necessárias. Já o corpo estático é um objeto que possui forma, posição e orientação, mas despreza propriedades como massa, restituição e velocidade. Para este estudo, optou-se em restringir o formato dos objetos em esferas e caixas.

O quadro~\ref{lg:init_world} apresenta a visualização da inicialização deste ambiente. (em nota de rodapé) Algumas linhas do log foram omitidas para adequação ao formato de artigo.

\begin{lstlisting}[frame=single,caption=Inicialização do ambiente\label{lg:init_world}]
Tempo atual do mundo em segundos: 0.00
Último passo de tempo: 0.00
Gravidade habilitada? True
Gravidade: 0.00:0.00:-9.81
Limites do mundo: 0.00:1000000.00,0.00:1000000.00,-10000.00:1000000.00

Nome: Chão
position: 500000.00:500000.00:-5000.00
AABB -> X: 0.00:1000000.00; Y: 0.00:1000000.00; Z: -10000.00:0.00 Forma: Tipo: 1: Caixa

Nome: Caixa estática
position: 35.00:35.00:5.00
AABB -> X: 10.00:60.00; Y: 10.00:60.00; Z: 0.00:10.00; Forma: Tipo: 1: Caixa

Nome: Esfera dinâmica
Mass: 5.00; Restitution: 0.25
AABB -> X: 7.50:12.50; Y: 7.50:12.50; Z: 47.50:52.50
Forma: Tipo: 2: esfera
Centro: 10.00:10.00:50.00; Raio: 2.50
\end{lstlisting}



\subsubsection{Formato da saída de dados}
O Proto3d registra a saída em um arquivo texto com as seguintes informações:

Visão geral do ambiente

Apresenta informações gerais do ambiente de simulação, como força da gravidade, quantidade, de objetos presentes, bem como uma descrição detalhada de cada objeto no ambiente. 

Rastreio do movimento do objeto
Após o início da simulação o Proto3d registra as informações para rastreio de movimento do objeto dinâmico em questão. O rastreio do movimento é feito a cada passo de tempo (configurado na inicialização) com as seguintes informações:


\begin{itemize}
\item T: Informa a quantidade de tempo decorrido desde o início da simulação até este registro do rastreio.
\item Dir: Informa a direção (ou trajetória) do objeto simulado conforme a seguinte legenda: 
\begin{itemize}
\item S: O objeto está se movendo para o sul;
\item N: o objeto está se movendo para o norte;
\item O: o objeto está se movendo para o oeste;
\item L: o objeto está se movendo para o leste;
\item C: o objeto está se movendo para cima;
\item B: o objeto está se movendo para baixo;
\end{itemize}

\item Pos: Informa o lugar onde o objeto está no instante do registro. Todos os objetos são localizados nos eixos X (horizontal), Y (profundidade) e Z (vertical).

\item Vel: Informa a velocidade do objeto no instante do registro. A velocidade do objeto é representada em m/s.
\end{itemize}

\subsection{Simulação de queda da esfera }

O objetivo desta simulação é analisar a queda livre de uma esfera sobre uma caixa, que está no chão do ambiente. Na inicialização foi adicionado ao ambiente duas caixas estáticas, uma sobre a outra. A primeira caixa representa o chão (piso) da simulação, enquanto que a segunda caixa, com forma de cubo, está estática sobre o piso. As dimensões destes objetos estão descritas na inicialização do ambiente, explicado na seção 4.1 <usar referência>

O teste consiste em posicionar uma esfera verticalmente alinhada com o cubo, mas em uma posição bem alta e deixar esta esfera cair. Com o avanço da simulação, a esfera será atraída em direção ao chão, devido à força da gravidade no ambiente, até que eventualmente colida com o cubo que está sobre o chão. Quando a colisão ocorre, a esfera recebe um impulso com sentido contrário à queda, que faz o objeto quicar algumas vezes. 

Este trecho da simulação pode ser verificado na saída acessível, pelo trecho de código apresetnado em~\ref{lg:esferaM1}. 

\begin{lstlisting}[frame=single,caption=Inicialização do ambiente\label{lg:esferaM1}]
T: 0.20s, Dir: b, Pos: 10.00:10.00:49.61, Vel: 1.96m/s
T: 2.60s, Dir: b, Pos: 10.00:10.00:14.29, Vel: 25.51m/s
T: 2.80s, Dir: c, Pos: 10.00:10.00:12.50, Vel: 6.87m/s
T: 3.00s, Dir: c, Pos: 10.00:10.00:13.87, Vel: 6.87m/s
\end{lstlisting}

Linha 1:  Primeira iteração da simulação. A força da gravidade começa a atrair a esfera para baixo.

Linha 2: Iteração no tempo 2.60s. A esfera caiu 35,32m em relação à primeira iteração, estando agora com velocidade de 25.51m/s.

Linha 3: Iteração no tempo 2.80s. A esfera colidiu com a caixa estática e picou, mudando de direção e agora está subindo a uma velocidade de 6.87m/s. 

Linha 4: Iteração no tempo 3.00s. A esfera ainda está subindo em função da colisão com a caixa.

Quando a esfera para de picar na caixa, uma nova força (32m/s) é aplicada “empurrando” a esfera para a direita até os limites da caixa estática.  No momento em que a esfera “sai de cima da caixa”, a gravidade atrai a esfera em direção ao chão. Deste ponto em diante a esfera está sujeita a duas forças, uma vertical (gravidade) e outra horizontal, uma trajetória descendente na diagonal até chegar ao chão, quando o momento vertical cessa novamente.

Este pedaço da simulação pode ser verificado na saída acessível, pelo trecho de código <referencia> 
Linha 1:  
Linha 2: 
Linha 3: 
Linha 4: 

Ao tocar o chão, a esfera pica novamente, mas agora está sob influência de uma força lateral, descreve um movimento diagonal. No momento em que a esfera parar de quicar, será mantido o movimento lateral até que esta saia do ambiente da simulação.

/* trecho quando toca o chão (se conseguir pega um log mostrando a esfera picando) */

/* fim do trecho */

\section{ Considerações finais:}
O Proto3d é uma aplicação desenvolvida com a finalidade de simular o movimento de um ou mais corpos sólidos, detectar e resolver as colisões entre estes corpos e ainda, apresentar a simulação em uma saída acessível a pessoas com deficiência visual.

No simulador, tanto o ambiente como os corpos sólidos, possuem parâmetros configuráveis de forma independente. Os parâmetros do ambiente são:  gravidade, dimensão, <listar todos>  e os parâmetros dos corpos rígidos são: massa, velocidade, orientação, coeficiente de restituição, forma, e outras propriedades <quais outras? listar todas as que o proto3d permite simular>. Destaca-se que neste relato, para fins de simplificação, optou-se em restringir a forma dos objetos em esferas e caixas.

A simulação executada pelo Proto3d atingiu os objetivos estabelecidos. Os resultados de movimento mostrados no registro de saída podem ser validados com cálculos de física newtoniana. As colisões são detectadas e o movimento resultante também têm resultados coerentes com os esperados. 

Como trabalhos futuros podem ser listados: 1) ????, 2) ??????, etc…



\section{References}

Bibliographic references must be unambiguous and uniform.  We recommend giving
the author names references in brackets, e.g. \cite{knuth:84},
\cite{boulic:91}, and \cite{smith:99}.

The references must be listed using 12 point font size, with 6 points of space
before each reference. The first line of each reference should not be
indented, while the subsequent should be indented by 0.5 cm.

\bibliographystyle{sbc}
\bibliography{sbc-template}

\end{document}
